**Наборы**

Несколько символов или символьных классов в квадратных скобках `[…]` означают «искать любой символ из заданных».

Для примера, `[eao]` означает любой из 3-х символов: `'a'`, `'e'` или `'o'`.

Это называется _набором_.

Наборы могут использоваться в регулярных выражениях вместе с обычными символами, например:

```js
console.log( "Топ хоп".match(/[тх]оп/gi) ); // "топ", "хоп"
```

Обратите внимание, что в наборе несколько символов, но в результате он соответствует ровно одному символу.

Так что этот пример не даёт совпадений:

```js
console.log( "Вуаля".match(/В[уа]ля/) ); // null, нет совпадений
```

Шаблон ищет:

-   `В`,
-   затем _один_ из символов `[уа]`,
-   потом `ля`.

В этом случае совпадениями могут быть `Вуля` или `Валя`.

**Диапазоны**

Ещё квадратные скобки могут содержать _диапазоны символов_.

К примеру, `[a-z]` соответствует символу в диапазоне от `a` до `z`, или `[0-5]` – цифра от `0` до `5`.

В приведённом ниже примере мы ищем `"x"`, за которым следуют две цифры или буквы от `A` до `F`:

```js
console.log( "Exception 0xAF".match(/x[0-9A-F][0-9A-F]/g) ); // xAF
```

Здесь в `[0-9A-F]` сразу два диапазона: ищется символ, который либо цифра от `0` до `9`, либо буква от `A` до `F`.

Если мы хотим найти буквы и в верхнем и в нижнем регистре, то мы можем добавить ещё диапазон `a-f`: `[0-9A-Fa-f]`. Или поставить у регулярного выражения флаг `i`.

Также мы можем использовать символьные классы внутри `[…]`.

Например, если мы хотим найти «символ слова» `\w` или дефис `-`, то набор будет: `[\w-]`.

Можем использовать и несколько классов вместе, например `[\s\d]` означает «пробельный символ или цифра».

****
*Символьные классы - сокращение для набора символов*

-   **\d** – то же самое, что и `[0-9]`,
-   **\w** – то же самое, что и `[a-zA-Z0-9_]`,
-   **\s** – то же самое, что и `[\t\n\v\f\r ]`, плюс несколько редких пробельных символов Юникода.
****

**Исключающие диапазоны**

Помимо обычных диапазонов, есть «исключающие» диапазоны, которые выглядят как `[^…]`.

Они обозначаются символом каретки `^` в начале диапазона и соответствуют любому символу _за исключением заданных_.

Например:

-   `[^aeyo]` – любой символ, за исключением `'a'`, `'e'`, `'y'` или `'o'`.
-   `[^0-9]` – любой символ, за исключением цифры, то же, что и `\D`.
-   `[^\s]` – любой непробельный символ, то же, что и `\S`.

Пример ниже ищет любые символы, кроме латинских букв, цифр и пробелов:
```js
console.log( "alice15@gmail.com".match(/[^\d\sA-Z]/gi) ); // @ и .
```

**Экранирование внутри [...]**

Обычно, когда мы хотим найти специальный символ, нам нужно экранировать его, например `\.`. А если нам нужна обратная косая черта, тогда используем `\\`, т.п.

В квадратных скобках большинство специальных символов можно использовать без экранирования:

-   Символы `. + ( )` не нужно экранировать никогда.
-   Тире `-` не надо экранировать в начале или в конце (где оно не задаёт диапазон).
-   Символ каретки `^` нужно экранировать только в начале (где он означает исключение).
-   Закрывающую квадратную скобку `]`, если нужен именно такой символ, экранировать нужно.

Другими словами, разрешены без экранирования все специальные символы, кроме случаев, когда они означают что-то особое в наборах.

Точка `.` внутри квадратных скобок – просто точка. Шаблон `[.,]` будет искать один из символов: точку или запятую.

В приведённом ниже примере регулярное выражение `[-().^+]` ищет один из символов `-().^+`:

```js
// Нет необходимости в экранировании
const regexp = /[-().^+]/g;

console.log( "1 + 2 - 3".match(regexp) ); // Совпадения +, -
```

**Наборы и флаг "u"**

Если в наборе есть суррогатные пары, для корректной работы обязательно нужен флаг `u`.
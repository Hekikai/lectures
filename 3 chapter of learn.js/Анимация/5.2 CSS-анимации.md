CSS позволяет создавать анимации без JavaScript.

**CSS-переходы**

Чтобы сделать анимацию с помощью CSS, нам необходимо указать: *что* будет менять, *сколько времени* будет меняться.

Например, CSS-код ниже анимирует трёх-секундное изменение `background-color`:
```css
.animated { 
	transition-property: background-color; 
	transition-duration: 3s;
}
```

Теперь, если элементу присвоен класс `.animated`, любое изменение свойства `background-color` будет анимироваться в течение трёх секунд.

Существует 4 свойства для описания CSS-переходов:

-   `transition-property` – свойство перехода
-   `transition-duration` – продолжительность перехода
-   `transition-timing-function` – временная функция перехода
-   `transition-delay` – задержка начала перехода

Далее мы рассмотрим их все, а сейчас ещё заметим, что есть также общее свойство `transition`, которое позволяет задать их одновременно в последовательности: `property duration timing-function delay`, а также анимировать несколько свойств одновременно.

Например, у этой кнопки анимируются два свойства `color` и `font-size` одновременно:
```css
#growing { 
	transition: font-size 3s, color 2s;
}
```

Рассмотрим каждое свойство отдельно!

**transition-property**

В `transition-property` записывается список свойств, изменения которых необходимо анимировать, например: `left`, `margin-left`, `height`, `color`.

Анимировать можно не все свойства, но [многие из них](http://www.w3.org/TR/css3-transitions/#animatable-properties-). Значение свойства `all` означает «анимируй все свойства».

**transition-duration**

В `transition-duration` можно определить, сколько времени займёт анимация. Время должно быть задано в [формате времени CSS](http://www.w3.org/TR/css3-values/#time): в секундах `s` или миллисекундах `ms`.

**transition-delay**

В `transition-delay` можно определить задержку _перед_ началом анимации. Например, если `transition-delay: 1s`, тогда анимация начнётся через 1 секунду после изменения свойства.

Отрицательные значения также допустимы. В таком случае анимация начнётся с середины. Например, если `transition-duration` равно `2s`, а `transition-delay` – `-1s`, тогда анимация займёт одну секунду и начнётся с середины.

**transition-timning-function**

Временная функция описывает, как процесс анимации будет распределён во времени. Будет ли она начата медленно и затем ускорится или наоборот.

На первый взгляд это очень сложное свойство, но оно становится понятным, если уделить ему немного времени.

Это свойство может принимать два вида значений: кривую Безье или количество шагов. Давайте начнём с кривой Безье, как с наиболее часто используемой.

**Кривая Безье**

Временная функция может быть задана, как [кривая Безье](https://learn.javascript.ru/bezier-curve) с 4 контрольными точками, удовлетворяющими условиям:

1.  Первая контрольная точка: `(0,0)`.
2.  Последняя контрольная точка: `(1,1)`.
3.  Для промежуточных точек значение `x` должно быть `0..1`, значение `y` может принимать любое значение.

Синтаксис для кривых Безье в CSS: `cubic-bezier(x2, y2, x3, y3)`. Нам необходимо задать только вторую и третью контрольные точки, потому что первая зафиксирована со значением `(0,0)` и четвёртая – `(1,1)`.

Временная функция описывает то, насколько быстро происходит анимации во времени.

-   Ось `x` – это время: `0` – начальный момент, `1` – последний момент `transition-duration`.
-   Ось `y` указывает на завершение процесса: `0` – начальное значение свойства, `1` – конечное значение.

Самым простым примером анимации является равномерная анимация с линейной скоростью. Она может быть задана с помощью прямой кривой `cubic-bezier(0, 0, 1, 1)`.

В свойстве `transition` указана эта кривая Безье:
```css
.animated {
	left: 0;
	transition: left 5s cubic-bezier(0, 0, 1, 1);
}
```

Есть несколько встроенных обозначений кривых Безье: `linear`, `ease`, `ease-in`, `ease-out` и `ease-in-out`.

`linear` это короткая запись для `cubic-bezier(0, 0, 1, 1)` – прямой линии, которую мы видели раньше.

Другие названия – это также сокращения для других `cubic-bezier`:
![[Pasted image 20220307110914.png]]

`*` – используется по умолчанию, если не задана другая временная функция.

Как сделать кривую Безье необходимую для конкретной задачи? Существует множество инструментов, например можно использовать с сайта [http://cubic-bezier.com/](http://cubic-bezier.com/).

**Шаги**

Временная функция `steps(количество шагов[, start/end])` позволяет разделить анимацию на шаги.

Первый аргумент временной функции `steps(9, start)` – количество шагов. Трансформация будет разделена на 9 частей (10% каждая). Временной интервал также будет разделён на 9 частей, таким образом свойство `transition: 9s` обеспечивает нам 9 секунд анимации, что даёт по одной секунде на цифру.

Вторым аргументом является одно из ключевых слов: `start` или `end`.

`start` – означает, что в начале анимации нам необходимо перейти на первый шаг немедленно.

Мы можем наблюдать это во время анимации: когда пользователь нажимает на цифру, значение меняется на `1` (первый шаг) сразу и в следующий раз меняется уже в начале следующей секунды.

Анимация будет происходить так:

-   `0s` – `-10%` (первое изменение в начале первой секунды, сразу после нажатия)
-   `1s` – `-20%`
-   …
-   `8s` – `-90%`
-   (на протяжении последней секунды отображается последнее значение).

Альтернативное значение `end` означало бы, что изменения нужно применять не в начале, а в конце каждой секунды.

Анимация будет происходить так:

-   `0s` – `0`
-   `1s` – `-10%` (первое изменение произойдёт в конце первой секунды)
-   `2s` – `-20%`
-   …
-   `9s` – `-90%`

Также есть сокращённые значения:

-   `step-start` – то же самое, что `steps(1, start)`. Оно означает, что анимация начнётся сразу и произойдёт в один шаг. Таким образом она начнётся и завершится сразу, как будто и нет никакой анимации.
-   `step-end` – то же самое, что `steps(1, end)`: выполнит анимацию за один шаг в конце `transition-duration`.

Такие значения используются редко, потому что это не совсем анимация, а точнее будет сказать одношаговые изменения.

**Событие transitioned**

Когда завершается анимация, срабатывает событие `transitionend`.

Оно широко используется для выполнения действий после завершения анимации, а также для создания последовательности анимаций.

Объект события `transitionend` содержит ряд полезных свойств:

`event.propertyName`

Имя свойства, анимация которого завершилась. Может быть полезным, если мы анимируем несколько свойств.

`event.elapsedTime`

Время (в секундах), которое заняла анимация, без учёта `transition-delay`.

**Ключевые кадры**

Мы можем объединить несколько простых анимаций вместе, используя CSS-правило `@keyframes`.

Оно определяет «имя» анимации и правила: что, когда и где анимировать. После этого можно использовать свойство `animation`, чтобы назначить анимацию на элемент и определить её дополнительные параметры.

Небольшой пример:
```css
@keyframes go-left-right { /* объявляем имя анимации: "go-left-right" */ 
	from { left: 0px; } /* от: left: 0px */ 
	to { left: calc(100% - 50px); } /* до: left: 100%-50px */ 
}

.progress { 
	animation: go-left-right 3s infinite alternate; 
	/* применить анимацию "go-left-right" на элементе продолжительностью 3 секунды
	количество раз: бесконечно (infinite)
	менять направление анимации каждый раз (alternate) 
	*/
	position: relative; 
	border: 2px solid green; 
	width: 50px; 
	height: 20px; 
	background: lime;
}
```

Скорее всего, вам нечасто понадобится `@keyframes`, разве что на вашем сайте все постоянно в движении.


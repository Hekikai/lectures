Иногда под `IMG` «вдруг» появляется лишнее место. Посмотрим на эти грабли внимательнее, почему такое бывает и как этого избежать.

**Демонстрация проблемы**

Напримеруу нас есть такая верстка:
```html
<style> 
* { 
	margin: 0;
	padding: 0; 
} 
</style> 

<table> 
	<tr> 
		<td style="border:1px red solid"> 
			<img src="square.png"> 
		</td> 
	</tr> 
</table>
```
![[Pasted image 20220309110409.png]]

Посмотрите внимательно! Вы видите расстояние между рамками снизу? Это потому, что **браузер резервирует дополнительное место под инлайновым элементом, чтобы туда выносить «хвосты» букв**.

Вот так выглядит та же картинка с выступающим вниз символом рядом:
![[Pasted image 20220309110420.png]]

В примере картинка обёрнута в красный `TD`. Таблица подстраивается под размер содержимого, так что проблема явно видна. Но она касается не только таблицы. Аналогичная ситуация возникнет, если вокруг `IMG` будет другой элемент с явно указанным размером, «облегающий» картинку по высоте. Браузер постарается зарезервировать место под `IMG`, хотя оно там не нужно.

**Решение: сделать элемент блочным**

Самый лучший способ избежать этого – поставить `display: block` таким картинкам:

```html
<style> 
	* { 
		margin: 0;
		padding: 0; 
	} 

	img {
		display: block;
	}
</style> 
```

Под блочным элементом ничего не резервируется. Проблема исчезла.

**Решение: задать vertical-align**

А что, если мы, по каким-то причинам, _не хотим_ делать элемент блочным?

Существует ещё один способ избежать проблемы – использовать свойство [vertical-align](http://www.w3.org/TR/CSS2/visudet.html#propdef-vertical-align).

**Если установить `vertical-align` в `top`, то инлайн-элемент будет отпозиционирован по верхней границе текущей строки.**

При этом браузер не будет оставлять место под изображением, так как запланирует продолжение строки сверху, а не снизу:

```html
<style>
	* { 
		margin: 0;
		padding: 0; 
	} 

	img {
		vertical-align: top;
	}
</style>
```

С другой стороны, сама строка никуда не делась, изображение по-прежнему является её частью, а браузер планирует разместить другое текстовое содержимое рядом, хоть и сверху. Поэтому если изображение маленькое, то произойдёт дополнение пустым местом до высоты строки.

Таким образом, требуется уменьшить ещё и `line-height` контейнера. Окончательное решение для маленьких изображений с `vertical-align`:
```html
<style> 
	* { 
		margin: 0;
		padding: 0; 
	} 

	img {
		vertical-align: top;
	}

	td {
		line-height: 1px;
	}
</style> 
```

Такде ещё одно решение: `font-size: 0`. Главное потом не удивляться, почему текст в диве пропал.
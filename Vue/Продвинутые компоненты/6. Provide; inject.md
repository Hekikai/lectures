Vue предоставляет API по передаче данных между компонентами в дереве компонентов. 
Если родитель общается с ребёнком через пропсы, ребёнок же может эмитить события, передавая данные, то теперь родитель может общаться не только с непосредственным ребенком, а вообще с любым компонентом!

Для этого стоит использовать пару `provie` и `inject`. 
`provide` позволяет определить, какими данными поделиться, а `inject` позволяет эти данные принять (внедрить).

Например, хотим передать какую-то информацию в компонент:

```js
const app = Vue.createApp({})

app.component('todo-list', {
  data() {
    return {
      todos: ['Покормить кота', 'Купить билеты']
    }
  },
  provide: {
    user: 'John Doe'
  },
  template: `
    <div>
      {{ todos.length }}
      <!-- остальная часть шаблона компонента -->
    </div>
  `
})

app.component('todo-list-statistics', {
  inject: ['user'],
  created() {
    console.log(`Внедрённое свойство: ${this.user}`) // > Внедрённое свойство: John Doe
  }
})
```

Компонент `todo-list` предоставляет нам данные (user), а компонент `todo-list-statistics` принимает эти данные и использует. 
Заметим, что уже в хуке `created` можно ими пользоваться. 

Но это не сработает если указать здесь какое-нибудь свойство экземпляра компонента:

```js
app.component('todo-list', {
  data() {
    return {
      todos: ['Покормить кота', 'Купить билеты']
    }
  },
  provide: {
    todoLength: this.todos.length // приведёт к ошибке `Cannot read property 'length' of undefined`
  },
  template: `
    ...
  `
})
```

Для доступа к свойствам экземпляра компонента необходимо сделать `provide` функцией, которая возвращает объект:

```js
app.component('todo-list', {
  data() {
    return {
      todos: ['Покормить кота', 'Купить билеты']
    }
  },
  provide() {
    return {
      todoLength: this.todos.length
    }
  },
  template: `
    ...
  `
})
```

Интерфейс между компонентами остаётся четко определённым, как и в случае с входными параметрами.

Инъекция зависимостей - это "старший брат входных параметров", за исключением пары моментов:
- родительские компоненты не должны знать, какие потомки используют данные в их `provide`
- дочерние компоненты не должны знать от кого они приходят в свой `inject`

**Работа с реактивностью**

Привязки `provide/inject` по умолчанию *не реактивны*. Это возможно изменить, передав в `provide` `ref`-свойство или объект `reactive`. В этом случае, если потребуется реагировать на изменения в компоненте предке, необходимо присвоить `computed` свойство из Composition API во внедряемое `todoLength`:

```js
app.component('todo-list', {
  // ...
  provide() {
    return {
      todoLength: Vue.computed(() => this.todos.length)
    }
  }
})

app.component('todo-list-statistics', {
  inject: ['todoLength'],
  created() {
    console.log(`Внедряемое свойство: ${this.todoLength.value}`) // > Внедряемое свойство: 5
  }
})
```

Теперь любое изменение `todos.length` будет корректно отражаться в компонентах, где внедряется `todoLength`.